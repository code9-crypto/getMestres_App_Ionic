<ion-header [translucent]="true">

  <ion-toolbar color="primary">
    <ion-title class="ion-text-center">Perfil</ion-title>
    <!-- para manter o preenchimento correto do botão junto com o texto
      deve-se ser usado esses atributos que estão dentro de ion-buttons
     -->
    <ion-buttons fill="clear" slot="end">
        <ion-button (click)="save()">
          Salvar
        </ion-button>
      </ion-buttons>          
  </ion-toolbar>
  
</ion-header>

<ion-content [fullscreen]="true">

  <ion-list>
    <div class="photo-container">
      <img [src]="form.photo || 'https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.pngall.com%2Fwp-content%2Fuploads%2F5%2FUser-Profile-PNG-Clipart.png&f=1&nofb=1&ipt=7b3422ca6e19878fc8cd1694844bee7f59dd5f9599b97efd42a297e0bcddd45a&ipo=images'">
    </div>
    <ion-item-divider>
      <ion-label>Dados do usuário</ion-label>
    </ion-item-divider>
    <ion-item lines="none">
      <ion-label position="stacked">Nome</ion-label>
      <ion-input inputmode="text" type="text" placeholder="Hadassa Caetano" [(ngModel)]="form.name"></ion-input>
    </ion-item>
    <ion-item lines="none">
      <ion-label position="stacked">E-mail</ion-label>
      <ion-input inputmode="email" type="email" placeholder="hadassa@gmail.com" [(ngModel)]="form.email"></ion-input>
    </ion-item>
    <ion-item lines="none">
      <ion-label position="stacked">Telefone</ion-label>
      <ion-input inputmode="tel" type="text" placeholder="(00) 00000-0000" [(ngModel)]="form.phone"></ion-input>
    </ion-item>
  </ion-list>  
  <ion-list lines="none">
    <ion-item-divider>
      <ion-label>Endereço</ion-label>
    </ion-item-divider>
    <ion-item lines="none">
      <ion-label position="stacked">CEP</ion-label>
      <ion-input inputmode="text" type="text" placeholder="00000-000" [(ngModel)]="form.zipCode"></ion-input>
    </ion-item>
    <ion-item lines="none">
      <ion-label position="stacked">Endereço</ion-label>
      <ion-input inputmode="text" type="text" placeholder="Rua São Judas" [(ngModel)]="form.address"></ion-input>
    </ion-item>
    <ion-item lines="none">
      <ion-label position="stacked">Complemento</ion-label>
      <ion-input inputmode="text" type="text" placeholder="Perto da padaria do Juca" [(ngModel)]="form.addressComplement"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label position="stacked">Estado</ion-label>
      <ion-select [(ngModel)]="form.state" placeholder="Selecione" (ionChange)="selectState($event)">
        <ion-select-option *ngFor="let state of states" [value]="state.sigla">{{ state.nome }}</ion-select-option>
      </ion-select>
    </ion-item>
    <ion-item>
      <ion-label position="stacked">Cidade</ion-label>
      <ion-select [(ngModel)]="form.city" placeholder="Selecione">
        <ion-select-option *ngFor="let city of cities" [value]="city">{{ city }}</ion-select-option>
      </ion-select>
    </ion-item>
  </ion-list>
  <ion-list lines="none">
    <ion-item-divider>
      <ion-label>Cidades Atendidas</ion-label>
    </ion-item-divider>
    <ion-item>
      <ion-label position="stacked">Cidades que eu atendo</ion-label>
      <ion-select [disabled]="cities.length == 0" [(ngModel)]="citiesCare" multiple placeholder="Selecione">
        <ion-select-option *ngFor="let city of cities" [value]="city">{{ city }}</ion-select-option>
      </ion-select>
    </ion-item>
  </ion-list>
  <ion-list lines="none">
    <ion-item-divider>
      <ion-label>Categorias atendidas</ion-label>
    </ion-item-divider>
    <ion-item>
      <ion-label position="stacked">Categorias</ion-label>
      <ion-select [(ngModel)]="categorySelected" (ionChange)="loadSubCategory($event.detail.value)" placeholder="Selecione">
        <ion-select-option *ngFor="let category of categories" [value]="category.uid">{{ category.name }}</ion-select-option>
      </ion-select>
    </ion-item>
    <ion-item>
      <ion-label position="stacked">SubCategorias</ion-label>
      <ion-select [disabled]="categories.length == 0" [(ngModel)]="subCategoriesCare" placeholder="Selecione" multiple>
        <ion-select-option *ngFor="let subCategory of subCategories" [value]="subCategory.uid">{{ subCategory.name }}</ion-select-option>
      </ion-select>
    </ion-item>
  </ion-list>  
  <ion-list lines="none">
    <ion-item-divider>
      <ion-label>Aplicativo</ion-label>
    </ion-item-divider>
    <ion-item (click)="changePassword()">
      <ion-label>Trocar senha</ion-label>
    </ion-item>
    <ion-item (click)="logout()">    
      <ion-label>Logout</ion-label>
    </ion-item>
  </ion-list>
  <!-- <div class="ion-padding">
    <ion-buttons color="primary" >
      <ion-button (click)="changePassword()" expand="block" fill="clear" style="margin-left: 26%;">
        Trocar senha
      </ion-button>
    </ion-buttons>
  </div> -->
</ion-content>
